{"ast":null,"code":"var _jsxFileName = \"/Users/fs/Desktop/react-rick-morty/my-app/src/allChars.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { CHARACTERS_QUERY } from \"./useCharQuery\";\nimport \"./characterList.css\";\nimport CharacterList from \"./charList.component\";\nimport { CallWaypoint } from \"./waypoint\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AllCharactersList = props => {\n  _s();\n\n  filteredName = props.filterd;\n  const {\n    loading,\n    data,\n    error,\n    fetchMore\n  } = useQuery(CHARACTERS_QUERY, {\n    variables: {\n      page: 1,\n      name: \"\"\n    }\n  });\n  var characters = loading || !data ? [] : data.characters.results;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 23\n  }, this);\n\n  const scrollEnd = () => fetchMore({\n    variables: {\n      page: characters.length / 20 + 1,\n      name: \"Morty\" //Test \n\n    },\n    updateQuery: (prev, _ref) => {\n      let {\n        fetchMoreResult\n      } = _ref;\n      if (!fetchMoreResult) return prev;\n      fetchMoreResult.characters.results = [...prev.characters.results, ...fetchMoreResult.characters.results];\n      return fetchMoreResult;\n    }\n  });\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: data === null || data === void 0 ? void 0 : data.characters.results.map((props, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(CharacterList, {\n        id: props.id,\n        name: props.name,\n        location: props.location,\n        image: props.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CallWaypoint, {\n        indexProp: index,\n        listProp: data.characters.results,\n        fnProps: scrollEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)]\n    }, props.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this))\n  }, void 0, false);\n};\n\n_s(AllCharactersList, \"k1taHv8cVyChloYECXQ3JIO+dwc=\", false, function () {\n  return [useQuery];\n});\n\n_c = AllCharactersList;\nexport default AllCharactersList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllCharactersList\");","map":{"version":3,"names":["React","useQuery","CHARACTERS_QUERY","CharacterList","CallWaypoint","AllCharactersList","props","filteredName","filterd","loading","data","error","fetchMore","variables","page","name","characters","results","scrollEnd","length","updateQuery","prev","fetchMoreResult","map","index","id","location","image"],"sources":["/Users/fs/Desktop/react-rick-morty/my-app/src/allChars.component.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { from, useQuery } from \"@apollo/client\";\nimport { CHARACTERS_QUERY } from \"./useCharQuery\";\nimport \"./characterList.css\";\nimport CharacterList from \"./charList.component\";\nimport { CharData, SendData, Character } from \"./interfaces\";\nimport { CallWaypoint } from \"./waypoint\";\n\nconst AllCharactersList = (props) => {\n\n    filteredName = props.filterd\n    const { loading, data, error, fetchMore } = useQuery<CharData, SendData>(CHARACTERS_QUERY, {\n        variables: { page: 1, name: \"\" },\n    });\n    var characters = loading || !data ? [] : data.characters.results;\n\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error</p>;\n\n    const scrollEnd = () =>\n        fetchMore({\n            variables: {\n                page: characters.length / 20 + 1,\n                name: \"Morty\"//Test \n            },\n            updateQuery: (prev, { fetchMoreResult }) => {\n                if (!fetchMoreResult) return prev;\n                fetchMoreResult.characters.results = [\n                    ...prev.characters.results,\n                    ...fetchMoreResult.characters.results,\n                ];\n                return fetchMoreResult;\n            },\n        });\n    return (\n        <>\n\n            {data?.characters.results.map((props: Character, index: number) => (\n                <div key={props.id} className=\"card-content\">\n\n                    <CharacterList\n                        id={props.id}\n                        name={props.name}\n                        location={props.location}\n                        image={props.image}\n                    />\n                    <CallWaypoint\n                        indexProp={index}\n                        listProp={data.characters.results}\n                        fnProps={scrollEnd}\n\n                    />\n                </div>\n\n            ))}\n        </>)\n\n};\n\nexport default AllCharactersList;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAgC,OAAhC;AACA,SAAeC,QAAf,QAA+B,gBAA/B;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AACA,OAAO,qBAAP;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AAEA,SAASC,YAAT,QAA6B,YAA7B;;;;AAEA,MAAMC,iBAAiB,GAAIC,KAAD,IAAW;EAAA;;EAEjCC,YAAY,GAAGD,KAAK,CAACE,OAArB;EACA,MAAM;IAAEC,OAAF;IAAWC,IAAX;IAAiBC,KAAjB;IAAwBC;EAAxB,IAAsCX,QAAQ,CAAqBC,gBAArB,EAAuC;IACvFW,SAAS,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,IAAI,EAAE;IAAjB;EAD4E,CAAvC,CAApD;EAGA,IAAIC,UAAU,GAAGP,OAAO,IAAI,CAACC,IAAZ,GAAmB,EAAnB,GAAwBA,IAAI,CAACM,UAAL,CAAgBC,OAAzD;EAEA,IAAIR,OAAJ,EAAa,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;EACb,IAAIE,KAAJ,EAAW,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;;EAEX,MAAMO,SAAS,GAAG,MACdN,SAAS,CAAC;IACNC,SAAS,EAAE;MACPC,IAAI,EAAEE,UAAU,CAACG,MAAX,GAAoB,EAApB,GAAyB,CADxB;MAEPJ,IAAI,EAAE,OAFC,CAEM;;IAFN,CADL;IAKNK,WAAW,EAAE,CAACC,IAAD,WAA+B;MAAA,IAAxB;QAAEC;MAAF,CAAwB;MACxC,IAAI,CAACA,eAAL,EAAsB,OAAOD,IAAP;MACtBC,eAAe,CAACN,UAAhB,CAA2BC,OAA3B,GAAqC,CACjC,GAAGI,IAAI,CAACL,UAAL,CAAgBC,OADc,EAEjC,GAAGK,eAAe,CAACN,UAAhB,CAA2BC,OAFG,CAArC;MAIA,OAAOK,eAAP;IACH;EAZK,CAAD,CADb;;EAeA,oBACI;IAAA,UAEKZ,IAFL,aAEKA,IAFL,uBAEKA,IAAI,CAAEM,UAAN,CAAiBC,OAAjB,CAAyBM,GAAzB,CAA6B,CAACjB,KAAD,EAAmBkB,KAAnB,kBAC1B;MAAoB,SAAS,EAAC,cAA9B;MAAA,wBAEI,QAAC,aAAD;QACI,EAAE,EAAElB,KAAK,CAACmB,EADd;QAEI,IAAI,EAAEnB,KAAK,CAACS,IAFhB;QAGI,QAAQ,EAAET,KAAK,CAACoB,QAHpB;QAII,KAAK,EAAEpB,KAAK,CAACqB;MAJjB;QAAA;QAAA;QAAA;MAAA,QAFJ,eAQI,QAAC,YAAD;QACI,SAAS,EAAEH,KADf;QAEI,QAAQ,EAAEd,IAAI,CAACM,UAAL,CAAgBC,OAF9B;QAGI,OAAO,EAAEC;MAHb;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA,GAAUZ,KAAK,CAACmB,EAAhB;MAAA;MAAA;MAAA;IAAA,QADH;EAFL,iBADJ;AAuBH,CAjDD;;GAAMpB,iB;UAG0CJ,Q;;;KAH1CI,iB;AAmDN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}