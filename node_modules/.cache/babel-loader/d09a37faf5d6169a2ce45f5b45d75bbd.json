{"ast":null,"code":"var _jsxFileName = \"/Users/fs/Desktop/react-rick-morty/my-app/src/allChars.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { CHARACTERS_QUERY } from \"./useCharQuery\";\nimport \"./characterList.css\";\nimport CharacterList from \"./charList.component\";\nimport { CallWaypoint } from \"./waypoint\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AllCharactersList = () => {\n  _s();\n\n  const {\n    loading,\n    data,\n    error,\n    fetchMore\n  } = useQuery(CHARACTERS_QUERY, {\n    variables: {\n      page: 1,\n      name: \"\"\n    }\n  });\n  var characters = loading || !data ? [] : data.characters.results;\n\n  if (loading || !data) {\n    var characters = [];\n  }\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 23\n  }, this);\n\n  const scrollEnd = () => fetchMore({\n    variables: {\n      page: characters.length / 20 + 1,\n      name: \"Morty\"\n    },\n    updateQuery: (prev, _ref) => {\n      let {\n        fetchMoreResult\n      } = _ref;\n      if (!fetchMoreResult) return prev;\n      fetchMoreResult.characters.results = [...prev.characters.results, ...fetchMoreResult.characters.results];\n      return fetchMoreResult;\n    }\n  });\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: data === null || data === void 0 ? void 0 : data.characters.results.map((items, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(CharacterList, {\n        id: items.id,\n        name: items.name,\n        location: items.location,\n        image: items.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CallWaypoint, {\n        indexProp: index,\n        listProp: data.characters.results,\n        fnProps: scrollEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)]\n    }, items.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this))\n  }, void 0, false);\n};\n\n_s(AllCharactersList, \"k1taHv8cVyChloYECXQ3JIO+dwc=\", false, function () {\n  return [useQuery];\n});\n\n_c = AllCharactersList;\nexport default AllCharactersList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllCharactersList\");","map":{"version":3,"names":["React","useQuery","CHARACTERS_QUERY","CharacterList","CallWaypoint","AllCharactersList","loading","data","error","fetchMore","variables","page","name","characters","results","scrollEnd","length","updateQuery","prev","fetchMoreResult","map","items","index","id","location","image"],"sources":["/Users/fs/Desktop/react-rick-morty/my-app/src/allChars.component.tsx"],"sourcesContent":["import React from \"react\";\nimport { from, useQuery } from \"@apollo/client\";\nimport { CHARACTERS_QUERY } from \"./useCharQuery\";\nimport \"./characterList.css\"\nimport CharacterList from \"./charList.component\"\nimport { CharData, SendData, Character } from \"./interfaces\"\nimport { CallWaypoint } from \"./waypoint\";\n\n\n\nconst AllCharactersList: React.FC = () => {\n    const { loading, data, error, fetchMore } = useQuery<CharData,SendData>(CHARACTERS_QUERY, {\n        variables: { page: 1, name: \"\" },\n    });\n    var characters = loading || !data ? [] : data.characters.results;\n    if(loading||!data){\n        var characters=[];\n    }\n\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error</p>;\n\n    const scrollEnd = () =>\n        fetchMore({\n            variables: {\n                page: characters.length / 20 + 1,\n                name:\"Morty\"\n            },\n            updateQuery: (prev, { fetchMoreResult }) => {\n                if (!fetchMoreResult) return prev;\n                fetchMoreResult.characters.results = [\n                    ...prev.characters.results,\n                    ...fetchMoreResult.characters.results,\n                ];\n                return fetchMoreResult;\n            },\n        });\n    return (\n        <>\n            {data?.characters.results.map((items: Character, index: number) => (\n                <div key={items.id} className=\"card-content\">\n\n                    <CharacterList\n                        id={items.id}\n                        name={items.name}\n                        location={items.location}\n                        image={items.image}\n                    />\n                    <CallWaypoint\n                        indexProp={index}\n                        listProp={data.characters.results}\n                        fnProps={scrollEnd}\n\n                    />\n                </div>\n\n            ))}\n        </>)\n\n};\n\nexport default AllCharactersList;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAeC,QAAf,QAA+B,gBAA/B;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AACA,OAAO,qBAAP;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AAEA,SAASC,YAAT,QAA6B,YAA7B;;;;AAIA,MAAMC,iBAA2B,GAAG,MAAM;EAAA;;EACtC,MAAM;IAAEC,OAAF;IAAWC,IAAX;IAAiBC,KAAjB;IAAwBC;EAAxB,IAAsCR,QAAQ,CAAoBC,gBAApB,EAAsC;IACtFQ,SAAS,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,IAAI,EAAE;IAAjB;EAD2E,CAAtC,CAApD;EAGA,IAAIC,UAAU,GAAGP,OAAO,IAAI,CAACC,IAAZ,GAAmB,EAAnB,GAAwBA,IAAI,CAACM,UAAL,CAAgBC,OAAzD;;EACA,IAAGR,OAAO,IAAE,CAACC,IAAb,EAAkB;IACd,IAAIM,UAAU,GAAC,EAAf;EACH;;EAED,IAAIP,OAAJ,EAAa,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;EACb,IAAIE,KAAJ,EAAW,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;;EAEX,MAAMO,SAAS,GAAG,MACdN,SAAS,CAAC;IACNC,SAAS,EAAE;MACPC,IAAI,EAAEE,UAAU,CAACG,MAAX,GAAoB,EAApB,GAAyB,CADxB;MAEPJ,IAAI,EAAC;IAFE,CADL;IAKNK,WAAW,EAAE,CAACC,IAAD,WAA+B;MAAA,IAAxB;QAAEC;MAAF,CAAwB;MACxC,IAAI,CAACA,eAAL,EAAsB,OAAOD,IAAP;MACtBC,eAAe,CAACN,UAAhB,CAA2BC,OAA3B,GAAqC,CACjC,GAAGI,IAAI,CAACL,UAAL,CAAgBC,OADc,EAEjC,GAAGK,eAAe,CAACN,UAAhB,CAA2BC,OAFG,CAArC;MAIA,OAAOK,eAAP;IACH;EAZK,CAAD,CADb;;EAeA,oBACI;IAAA,UACKZ,IADL,aACKA,IADL,uBACKA,IAAI,CAAEM,UAAN,CAAiBC,OAAjB,CAAyBM,GAAzB,CAA6B,CAACC,KAAD,EAAmBC,KAAnB,kBAC1B;MAAoB,SAAS,EAAC,cAA9B;MAAA,wBAEI,QAAC,aAAD;QACI,EAAE,EAAED,KAAK,CAACE,EADd;QAEI,IAAI,EAAEF,KAAK,CAACT,IAFhB;QAGI,QAAQ,EAAES,KAAK,CAACG,QAHpB;QAII,KAAK,EAAEH,KAAK,CAACI;MAJjB;QAAA;QAAA;QAAA;MAAA,QAFJ,eAQI,QAAC,YAAD;QACI,SAAS,EAAEH,KADf;QAEI,QAAQ,EAAEf,IAAI,CAACM,UAAL,CAAgBC,OAF9B;QAGI,OAAO,EAAEC;MAHb;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA,GAAUM,KAAK,CAACE,EAAhB;MAAA;MAAA;MAAA;IAAA,QADH;EADL,iBADJ;AAsBH,CAjDD;;GAAMlB,iB;UAC0CJ,Q;;;KAD1CI,iB;AAmDN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}