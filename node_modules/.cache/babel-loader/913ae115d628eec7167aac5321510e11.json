{"ast":null,"code":"var _jsxFileName = \"/Users/fs/Desktop/react-rick-morty/my-app/src/allChars.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { CHARACTERS_QUERY } from \"./useCharQuery\";\nimport \"./characterList.css\";\nimport CharacterList from \"./charList.component\";\nimport { CallWaypoint } from \"./waypoint\";\nimport Filtered from \"./filter.components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AllCharactersList = () => {\n  _s();\n\n  const [filteredYear, setFilteredYear] = useState(\"\");\n\n  const filteredCharacterName = filteredName => {\n    console.log(\"name\");\n    s(filteredName);\n  };\n\n  const {\n    loading,\n    data,\n    error,\n    fetchMore\n  } = useQuery(CHARACTERS_QUERY, {\n    variables: {\n      page: 1,\n      name: \"\"\n    }\n  });\n  var characters = loading || !data ? [] : data.characters.results;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 23\n  }, this);\n\n  const scrollEnd = () => fetchMore({\n    variables: {\n      page: characters.length / 20 + 1,\n      name: \"Morty\" //Test \n\n    },\n    updateQuery: (prev, _ref) => {\n      let {\n        fetchMoreResult\n      } = _ref;\n      if (!fetchMoreResult) return prev;\n      fetchMoreResult.characters.results = [...prev.characters.results, ...fetchMoreResult.characters.results];\n      return fetchMoreResult;\n    }\n  });\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Filtered, {\n      onChangeFilter: filteredCharacterName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), data === null || data === void 0 ? void 0 : data.characters.results.map((props, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(CharacterList, {\n        id: props.id,\n        name: props.name,\n        location: props.location,\n        image: props.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CallWaypoint, {\n        indexProp: index,\n        listProp: data.characters.results,\n        fnProps: scrollEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, props.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true);\n};\n\n_s(AllCharactersList, \"veQb78GpYLXqaybsy/abl+ETl8o=\", false, function () {\n  return [useQuery];\n});\n\n_c = AllCharactersList;\nexport default AllCharactersList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllCharactersList\");","map":{"version":3,"names":["React","useState","useQuery","CHARACTERS_QUERY","CharacterList","CallWaypoint","Filtered","AllCharactersList","filteredYear","setFilteredYear","filteredCharacterName","filteredName","console","log","s","loading","data","error","fetchMore","variables","page","name","characters","results","scrollEnd","length","updateQuery","prev","fetchMoreResult","map","props","index","id","location","image"],"sources":["/Users/fs/Desktop/react-rick-morty/my-app/src/allChars.component.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { from, useQuery } from \"@apollo/client\";\nimport { CHARACTERS_QUERY } from \"./useCharQuery\";\nimport \"./characterList.css\"\nimport CharacterList from \"./charList.component\"\nimport { CharData, SendData, Character } from \"./interfaces\"\nimport { CallWaypoint } from \"./waypoint\";\nimport Filtered from \"./filter.components\";\n\n\n\nconst AllCharactersList: React.FC = () => {\n    const [filteredYear,setFilteredYear] = useState(\"\");\n    const filteredCharacterName=(filteredName:string)=>{\n        console.log(\"name\");\n        s(filteredName);\n    }\n    \n    const { loading, data, error, fetchMore } = useQuery<CharData, SendData>(CHARACTERS_QUERY, {\n        variables: { page: 1, name: \"\" },\n    });\n    var characters = loading || !data ? [] : data.characters.results;\n\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error</p>;\n\n    const scrollEnd = () =>\n        fetchMore({\n            variables: {\n                page: characters.length / 20 + 1,\n                name: \"Morty\"//Test \n            },\n            updateQuery: (prev, { fetchMoreResult }) => {\n                if (!fetchMoreResult) return prev;\n                fetchMoreResult.characters.results = [\n                    ...prev.characters.results,\n                    ...fetchMoreResult.characters.results,\n                ];\n                return fetchMoreResult;\n            },\n        });\n    return (\n        <>\n            <Filtered onChangeFilter={filteredCharacterName}/>\n            {data?.characters.results.map((props: Character, index: number) => (\n                <div key={props.id} className=\"card-content\">\n\n                    <CharacterList\n                        id={props.id}\n                        name={props.name}\n                        location={props.location}\n                        image={props.image}\n                    />\n                    <CallWaypoint\n                        indexProp={index}\n                        listProp={data.characters.results}\n                        fnProps={scrollEnd}\n\n                    />\n                </div>\n\n            ))}\n        </>)\n\n};\n\nexport default AllCharactersList;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAeC,QAAf,QAA+B,gBAA/B;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AACA,OAAO,qBAAP;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AAEA,SAASC,YAAT,QAA6B,YAA7B;AACA,OAAOC,QAAP,MAAqB,qBAArB;;;;AAIA,MAAMC,iBAA2B,GAAG,MAAM;EAAA;;EACtC,MAAM,CAACC,YAAD,EAAcC,eAAd,IAAiCR,QAAQ,CAAC,EAAD,CAA/C;;EACA,MAAMS,qBAAqB,GAAEC,YAAD,IAAuB;IAC/CC,OAAO,CAACC,GAAR,CAAY,MAAZ;IACAC,CAAC,CAACH,YAAD,CAAD;EACH,CAHD;;EAKA,MAAM;IAAEI,OAAF;IAAWC,IAAX;IAAiBC,KAAjB;IAAwBC;EAAxB,IAAsChB,QAAQ,CAAqBC,gBAArB,EAAuC;IACvFgB,SAAS,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,IAAI,EAAE;IAAjB;EAD4E,CAAvC,CAApD;EAGA,IAAIC,UAAU,GAAGP,OAAO,IAAI,CAACC,IAAZ,GAAmB,EAAnB,GAAwBA,IAAI,CAACM,UAAL,CAAgBC,OAAzD;EAEA,IAAIR,OAAJ,EAAa,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;EACb,IAAIE,KAAJ,EAAW,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;;EAEX,MAAMO,SAAS,GAAG,MACdN,SAAS,CAAC;IACNC,SAAS,EAAE;MACPC,IAAI,EAAEE,UAAU,CAACG,MAAX,GAAoB,EAApB,GAAyB,CADxB;MAEPJ,IAAI,EAAE,OAFC,CAEM;;IAFN,CADL;IAKNK,WAAW,EAAE,CAACC,IAAD,WAA+B;MAAA,IAAxB;QAAEC;MAAF,CAAwB;MACxC,IAAI,CAACA,eAAL,EAAsB,OAAOD,IAAP;MACtBC,eAAe,CAACN,UAAhB,CAA2BC,OAA3B,GAAqC,CACjC,GAAGI,IAAI,CAACL,UAAL,CAAgBC,OADc,EAEjC,GAAGK,eAAe,CAACN,UAAhB,CAA2BC,OAFG,CAArC;MAIA,OAAOK,eAAP;IACH;EAZK,CAAD,CADb;;EAeA,oBACI;IAAA,wBACI,QAAC,QAAD;MAAU,cAAc,EAAElB;IAA1B;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKM,IAFL,aAEKA,IAFL,uBAEKA,IAAI,CAAEM,UAAN,CAAiBC,OAAjB,CAAyBM,GAAzB,CAA6B,CAACC,KAAD,EAAmBC,KAAnB,kBAC1B;MAAoB,SAAS,EAAC,cAA9B;MAAA,wBAEI,QAAC,aAAD;QACI,EAAE,EAAED,KAAK,CAACE,EADd;QAEI,IAAI,EAAEF,KAAK,CAACT,IAFhB;QAGI,QAAQ,EAAES,KAAK,CAACG,QAHpB;QAII,KAAK,EAAEH,KAAK,CAACI;MAJjB;QAAA;QAAA;QAAA;MAAA,QAFJ,eAQI,QAAC,YAAD;QACI,SAAS,EAAEH,KADf;QAEI,QAAQ,EAAEf,IAAI,CAACM,UAAL,CAAgBC,OAF9B;QAGI,OAAO,EAAEC;MAHb;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA,GAAUM,KAAK,CAACE,EAAhB;MAAA;MAAA;MAAA;IAAA,QADH,CAFL;EAAA,gBADJ;AAuBH,CArDD;;GAAMzB,iB;UAO0CL,Q;;;KAP1CK,iB;AAuDN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}